<!-- 06/10/2020 - Adicionar carrossel de marcas -->
<script type="module">
  import Swiper from 'https://unpkg.com/swiper/swiper-bundle.esm.browser.min.js'

  const changeCarousel = () => {

    const brandModel = ({url, link}) => `
    <a class="footer-carousel-brands__item-link carousel-brands__item-link swiper-slide" target="_blank" href="${link}" style="height: 80px;"><img class="footer-carousel-brands__item-image carousel-brands__item-image" src="https://legado.autoforce.com.br/genius/euroamericas/${url}" alt="Seminovo"></a>`

    const urlImgs = [
      {
        url: 'americas.png',
        link: 'https://www.americaschevrolet.com.br/'
      },
      {
        url: 'brilhauto.png',
        link: 'https://brilhautofiat.com.br/'
      },
      {
        url: 'eurobarra.png',
        link: 'https://eurobarrafiat.com.br/'
      },
      {
        url: 'gmais.png',
        link: 'https://www.gmaischevrolet.com.br/'
      },
      {
        url: 'italia-barra.png',
        link: 'https://italiabarrafiat.com.br/'
      },
      {
        url: 'italia-master.png',
        link: 'https://italiamasterjeep.com.br/'
      },
      {
        url: 'megafor.png',
        link: 'https://www.megafor.com.br/'
      },
      {
        url: 'squadra.png',
        link: 'https://www.squadrariofiat.com.br/'
      },
      {
        url: 'topfor.png',
        link: 'https://www.topfor.com.br/'
      },
      {
        url: 'usastar.png',
        link: 'https://usastarjeep.com.br/'
      },
    ]

    // ===========================================================================================
    
    const carousel = document.createElement('div')
    const carouselWrapper = document.createElement('div')

    carousel.classList.add('swiper-container', 'footer-carousel-brands__carousel')
    carouselWrapper.classList.add('swiper-wrapper')

    urlImgs.forEach((brand, index) => {
      const slide = document.createElement('div')
      'footer-carousel-brands__item carousel-brands__item carousel__item swiper-slide'
        .split(' ')
        .forEach(currClass => slide.classList.add(currClass))

      const slideContent = brandModel(brand)
      slide.innerHTML = slideContent

      carouselWrapper.appendChild(slide)
    })

    carousel.appendChild(carouselWrapper)

    const target = document.querySelector('.footer-carousel-brands.carousel-brands')
    target.classList.remove('swiper-container-initialized', 'swiper-container-horizontal')
    target.innerHTML = ''
    target.appendChild(carousel)

    const footerBrandsSwiper = new Swiper('.footer-carousel-brands__carousel', {
      loop: true,
      autoplay: true,
      slidesPerView: 4.5,
      spaceBetween: 5,
      breakpoints: {
        576: {
          slidesPerView: 5.5,
          spaceBetween: 10
        },
        767: {
          slidesPerView: 6.5,
          spaceBetween: 20
        },
        992: {
          slidesPerView: 8,
          spaceBetween: 30
        }
      }
    })
  }

  changeCarousel()
</script>